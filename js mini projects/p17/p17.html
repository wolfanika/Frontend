<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>p17(Budget APP)</title>
    <link rel="stylesheet" href="css/style.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/js/all.min.js"
        integrity="sha512-naukR7I+Nk6gp7p5TMA4ycgfxaZBJ7MO5iC3Fp6ySQyKFHOGfpkSZkYVWV5R7u7cfAicxanwYQ5D1e17EfJcMA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
 <!-- toaster -->
 <link href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.css" rel="stylesheet" />
 <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
 <link rel="stylesheet" href="src/js/jquery-ui.min.css">
</head>

<body class="bg-light">

    <div class="col-4 offset-1 mb-1">
        <h3>Budget APP</h3>

    </div>

    <div style="
display: flex;     justify-content: space-between;">
        <form class="border formbox border-success p-3 col-4 offset-1 mb-2" id="myform">



            <div class="mb-1">

                <label for="b" class="form-label">Please Enter Your Budget Amount</label>
                <input type="number" class="form-control border-success" id="b" aria-describedby="">
                <div class="form-text"></div>
            </div>


            <button type="submit" class="btn btn-sm btn-outline-success addBtn" onclick="calc()" id="budbtn">
                Calculate</button>
        </form>
        <div class=" d-flex px-5 bold text-center">

            <div class=" w-100 h4 mx-5">
                BUDGET<br>
                <i class="fa-solid fa-money-bill-1 h1"></i>
                <div class="text-success ms-5" style="display: -webkit-box;">
                    <div   id="r1">0</div><span>$</span>
                    </div>
                
            </div>
            <div class=" w-100 h4 mx-5">
                EXPENSES<br>
                <i class="fa-regular fa-credit-card h1"></i>
                <div class="text-danger ms-5" style="display: -webkit-box;">
                <div   id="r2">0</div><span>$</span>
                </div>
               
                    


            </div>
            <div class=" w-100 h4 mx-5">
                BALANCE<br>
                <i class="fa-solid fa-dollar-sign h1"></i>
                <div class="text-danger ms-5"  style="display: -webkit-box;">
                    <div   id="r3">0</div><span class="text-warning">$</span>
                    </div>
            </div>
        </div>
    </div>




    <div style="
display: flex;     justify-content: start;">

    <form class="border formbox border-danger p-3 col-4 offset-1 mb-1" id="myform">



        <div class="mb-1">
            <label for="e1" class="form-label">Please Enter Your Expense Name</label>
            <input type="text" class="form-control border-danger" id="e1" aria-describedby="">
            <div class="form-text"></div>

            <label for="e2" class="form-label">Please Enter Expense Amount</label>
            <input type="number" class="form-control border-danger" id="e2" aria-describedby="">
            <div class="form-text"></div>
        </div>


        <button type="submit" class="btn btn-sm btn-outline-danger addBtn" onclick="addexp()" id="expbtn">ADD
            EXPENSE</button>
    </form>
    <div class="container ms-5 row">
        <h3 class="col-6">Expense Title</h3>
        <h3 class="col-6">Expense Value</h3>
    <ul class=" col-12 text-center " id="l1" style="list-style-type: none;">

        
    
    

    </li>
    </ul>
    <!-- <ul class="col-4 text-center" id="l2" style="list-style-type: none;">

        Expense Value
    
    <li></li>
    </ul> -->
    

    </div></div>






    <script>
        const r1 = document.getElementById("r1");
        const r2 = document.getElementById("r2");
        const r3 = document.getElementById("r3");
        const b = document.getElementById("b").value;
        const e1 = document.getElementById("e1").value;
        const e2 = document.getElementById("e2").value;
        const expbtn = document.getElementById("expbtn");
        const budbtn = document.getElementById("budbtn");


        function calc() {
            const budbtn = document.getElementById("budbtn");
            const r1 = document.getElementById("r1");
            var r3 = document.getElementById("r3");
            
            
            const b = document.getElementById("b").value;

            r1.innerHTML =  b;
           

             
            var x=parseInt( r3.innerHTML);
            r3.innerHTML =x+ parseInt( b) ;
            
            r3.style.color="green";

            
            console.log("hjewfbjW");
            event.preventDefault();
            if (b<1){
            swal({
                        title: 'Budget Amount Invalid.   Try Again?',
                        
                        confirmButtonColor: '#0A717D',
                        confirmButtonText: 'ok',
                    });
            };


        };

        function addexp() {
            // const e1 = document.getElementById("e1").value;
            // const e2 = document.getElementById("e2").value;
            // const l1 = document.getElementById("l1");
            // const l2 = document.getElementById("l2");

            // l1.innerHTML = e1;
            // l2.innerHTML = e2;
            

            var close = document.getElementsByClassName("close");
            var i;
            for (i = 0; i < close.length; i++) {
            close[i].onclick = function() {
                var div = this.parentElement;
                div.style.display = "none";
            }
            }

            

            var edit = document.getElementsByClassName("edit");
            var i;
            for (i = 0; i < edit.length; i++) {
            edit[i].onclick = function() {
               
                console.log(this.previousElementSibling.previousElementSibling);
              
                var e2 = document.getElementById("e2");
                e2.value=this.previousElementSibling.textContent;
                
                var e1 = document.getElementById("e1");
                e1.value=this.previousElementSibling.previousElementSibling.textContent;

                var div = this.parentElement;
                div.style.display = "none";
            }
            }


            var li = document.createElement("li");
            var span = document.createElement("SPAN");
            var input = document.getElementById("e1").value;
            
            var t1 = document.createTextNode(input);
            li.id="list";
            
            span.appendChild(t1);
            if (input === '') {
                
            swal({
                        title: ' Invalid.   Try Again?',
                        
                        confirmButtonColor: '#0A717D',
                        confirmButtonText: 'ok',
                    });
            
            } else {
                document.getElementById("l1").appendChild(li);
                li.appendChild(span);
            }
            document.getElementById("e1").value = "";




            



            var span1 = document.createElement("SPAN");
            var input2 = document.getElementById("e2").value 
            var t2 = document.createTextNode(input2);
            span1.className = "l2";
            span1.appendChild(t2);
            if (input2 === '') {
                     
            swal({
                        title: ' Invalid.   Try Again?',
                        
                        confirmButtonColor: '#0A717D',
                        confirmButtonText: 'ok',
                    });
            } else {
                li.appendChild(span1);
            }document.getElementById("e2").value = "";
           
            
            var span = document.createElement("SPAN");
            var txt = document.createTextNode("🖋️");
            span.className = "edit";
            span.appendChild(txt);
            li.appendChild(span);

            

            


            var close = document.getElementsByClassName("close");
            var i;
            for (i = 0; i < close.length; i++) {
            close[i].onclick = function() {
                var div = this.parentElement;
                div.style.display = "none";
            }
            }
            
            var span = document.createElement("SPAN");
            var txt = document.createTextNode("🗑");
            span.className = "close";
            span.appendChild(txt);
            li.appendChild(span);


            var edit = document.getElementsByClassName("edit");
            var i;
            for (i = 0; i < edit.length; i++) {
            edit[i].onclick = function() {
                
                console.log(this.previousElementSibling);
                console.log(this.previousElementSibling.previousElementSibling);
               
                var e2 = document.getElementById("e2");
                e2.value=this.previousElementSibling.textContent;

                 var e1 = document.getElementById("e1");
                e1.value=this.previousElementSibling.previousElementSibling.textContent;

                var div = this.parentElement;
                div.style.display = "none";
                

            }
            }

            var close = document.getElementsByClassName("close");
            var i;
            for (i = 0; i < close.length; i++) {
            close[i].onclick = function() {
                var div = this.parentElement;
                div.style.display = "none";
            }
            }



            // calculation

            var r2 = document.getElementById("r2");
            var x=parseInt( r2.innerHTML);
            r2.innerHTML = parseInt( input2) + x;
            
            console.log(typeof x, typeof r2, typeof input2 );

            var r3 = document.getElementById("r3");
            var x=parseInt( r3.innerHTML);
            r3.innerHTML =x- parseInt( input2) ;



            var x = document.getElementById('r3').innerHTML;
            
                var parsed = parseInt(x);
                var x= parsed;
               

                 if (x>0){
                    document.getElementById('r3').style.color="green";
                  
            r3b.style.color="green";}
                else if(x<0){
                    document.getElementById('r3').style.color="red";}
                 else{
                    document.getElementById('r3').style.color="blue";
                }
                 

        event.preventDefault();



        }
        

    </script>
</body>

</html>